angular.module("starter.services",[]).factory("bonusTrendServices",["globalServices","$stateParams","$rootScope",function(s,e,t){"use strict";return{issueData:{},issueDataHandle:function(s,e,t){return e?(t&&(this.issueData[s]=[]),void(angular.isArray(this.issueData[s])?this.issueData[s]=this.issueData[s].concat(e):this.issueData[s]=e)):this.issueData[s]||[]},issue:{},issueHandle:function(s,e){this.issue[s]=e},bBtn:!0,bonusIssue:function(a,i){function u(s){angular.forEach(s,function(s){angular.forEach([1,2,3],function(e,t){s.yiLou["def"+e]=s.yiLou.def.slice(10*t,10*t+10)})})}function r(s){angular.forEach(s,function(s){s.issue=s.issue.slice(-6),angular.forEach(s.yiLou,function(e,t){/three\d/.test(t)&&(angular.isArray(s.yiLou.three)||(s.yiLou.three=[]),s.yiLou.three=s.yiLou.three.concat(e)),/two\d/.test(t)&&(angular.isArray(s.yiLou.two)||(s.yiLou.two=[]),s.yiLou.two=s.yiLou.two.concat(e))})})}function n(s,e){"7LC"==i.default.signHC&&u(s),"115"==i.default.signHC&&r(s),i.issueList=s,t.chart="chart",e&&(i.isMore=!1)}function o(s){return s.slice(-1)[0].issue}var c=this;return function(t,i,u){i&&c.issueHandle(a,""),s.serialPost(4001,"number",{lotteryCode:e.id,issue:c.issue[a]||"",pageSize:20}).then(function(s){s.issueList.length>0&&(c.issueDataHandle(a,s.issueList,i),c.issueHandle(a,o(s.issueList))),s.issueList.length<20?n(s.issueList,"nothing"):n(s.issueList)})}},chartSum:function(e){return s.post(4001,"numberCount",{lotteryCode:e})},chartKSGroup:function(e,a,i){var u=this;s.serialPost(4001,"k3",{lotteryCode:e.id}).then(function(s){s.dataList.length>0&&(a.groupData=s.dataList,u.issueDataHandle(i,s.dataList,!0),t.chart="chart",a.isMoreGroup=!1)})},getLotteryName:function(s){var e;switch(s){case"001":e="双色球";break;case"002":e="福彩3D";break;case"113":e="大乐透";break;case"108":e="排列三";break;case"109":e="排列五";break;case"004":e="七乐彩";break;case"110":e="七星彩";break;case"011":e="江苏快三";break;case"010":e="安徽快三";break;case"018":e="北京快三"}return e}}}]);