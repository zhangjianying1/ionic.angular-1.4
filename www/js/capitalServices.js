angular.module("starter.services",[]).factory("capitalServices",["globalServices",function(t){return{rechargeList:[],rechargeListHandle:function(t){var a;return angular.isArray(t)?this.rechargeList=t:angular.forEach(this.rechargeList,function(e,i){e.orderId==t&&(a=e)}),a},getCoupon:function(a,e,i,n){a.default.index==a[e].index&&(i?a[e].page=i:a[e].page+=1,t.serialPost("3202","list",{page:a[e].page,status:a[e].status}).then(function(t){t.couponList.length<10&&(a[e].isMore=!1),a.$broadcast("scroll.infiniteScrollComplete"),1==a[e].page?(a[e].data=t.couponList,10==t.couponList.length&&(a[e].isMore=!0)):a[e].data=a[e].data.concat(t.couponList),n&&n()}))},getCapitalChangeList:function(a,e,i,n){a.default.index==e.status&&(i?e.page=i:e.page+=1,t.serialPost(e.cmd,e.func,{page:e.page}).then(function(t){var i=t.fillList||t.accountLogList;i.length<10&&(e.isMore=!1),1==e.page?(e.data=i,10==i.length&&(e.isMore=!0)):e.data=e.data.concat(i),a.$broadcast("scroll.infiniteScrollComplete"),n&&n()}))}}}]);